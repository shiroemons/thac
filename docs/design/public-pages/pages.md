# ページ構成

> 要求仕様書 FR-01〜FR-40 に基づくページ設計

## 目次

1. [共通ページ](#共通ページ)
2. [公式作品・公式曲](#公式作品公式曲)
3. [サークル](#サークル)
4. [イベント](#イベント)
5. [アーティスト・役割](#アーティスト役割)
6. [統計](#統計)

---

## 共通ページ

### トップページ（/）

| 項目 | 内容 |
|------|------|
| パス | `/` |
| 目的 | サイトの顔、主要コンテンツへの導線 |
| 構成要素 | ヒーローセクション、統計カード、最近のリリース |

**主要コンテンツ:**
- ヒーローセクション（サイト名 + 検索バー）
- 統計カード（原曲数、イベント数、サークル数、アーティスト数、トラック数）
- 最近のリリース（カルーセル形式）

---

### Aboutページ（/about）

| 項目 | 内容 |
|------|------|
| パス | `/about` |
| 目的 | サイトの説明、運営情報 |
| 構成要素 | サイト概要、目的、運営者情報 |

---

### 検索ページ（/search）

| 項目 | 内容 |
|------|------|
| パス | `/search` |
| 関連FR | FR-01〜FR-04 |
| 目的 | グローバル検索、詳細検索 |

**機能:**
- インスタント検索（入力中に結果表示）
- カテゴリ別タブ（すべて / アーティスト / サークル / 曲）
- 検索結果のハイライト表示
- 検索履歴の保存・表示

---

## 公式作品・公式曲

> FR-05〜FR-11 対応

### 公式作品一覧（/official-works）

| 項目 | 内容 |
|------|------|
| パス | `/official-works` |
| 関連FR | FR-05〜FR-07 |
| 目的 | 東方Project公式作品の一覧表示 |

**機能:**
- カテゴリ別表示（ゲーム、音楽CD、書籍など）
- グリッド/リスト表示切替
- 収録曲数の表示

---

### 公式作品詳細（/official-works/:id）

| 項目 | 内容 |
|------|------|
| パス | `/official-works/:id` |
| 関連FR | FR-08 |
| 目的 | 公式作品の詳細情報と収録曲一覧 |

**構成:**
- 作品情報（タイトル、発売日、カテゴリ）
- 収録公式曲一覧
- 各曲のアレンジ数表示

---

### 公式曲一覧（/original-songs）

| 項目 | 内容 |
|------|------|
| パス | `/original-songs` |
| 関連FR | FR-09〜FR-10 |
| 目的 | 東方Project原曲の一覧表示 |

**機能:**
- 作品別絞り込み
- グリッド/リスト表示切替
- アレンジ数の表示

---

### 公式曲詳細（/original-songs/:id）

| 項目 | 内容 |
|------|------|
| パス | `/original-songs/:id` |
| 関連FR | FR-11 |
| 目的 | 原曲の詳細情報とアレンジ一覧 |

**構成:**
- 原曲情報（曲名、出典作品、トラック番号）
- アレンジ楽曲一覧
- サークル別・イベント別フィルター

---

## サークル

> FR-12〜FR-16 対応

### サークル一覧（/circles）

| 項目 | 内容 |
|------|------|
| パス | `/circles` |
| 関連FR | FR-12〜FR-14 |
| 目的 | 東方アレンジサークルの一覧表示 |

**機能:**
- 頭文字索引フィルター（記号・数字 / 英字 / かな / 漢字）
- グリッド/リスト表示切替
- リリース数の表示
- URL同期（フィルター状態を共有可能）

**フィルター仕様:**

| カテゴリ | 対象文字 |
|----------|----------|
| 記号・数字 | `0-9`, `!`, `@`, `#` など |
| 英字 | `A-Z`, `a-z` |
| かな | ひらがな、カタカナ |
| 漢字 | CJK統合漢字 |

---

### サークル詳細（/circles/:id）

| 項目 | 内容 |
|------|------|
| パス | `/circles/:id` |
| 関連FR | FR-15〜FR-16 |
| 目的 | サークルの詳細情報とリリース一覧 |

**構成:**
- サークル情報（名前、説明）
- 統計（リリース数、トラック数）
- タブ切替（リリース一覧 / 曲一覧）

---

## イベント

> FR-17〜FR-21 対応

### イベント一覧（/events）

| 項目 | 内容 |
|------|------|
| パス | `/events` |
| 関連FR | FR-17〜FR-19 |
| 目的 | 即売会イベントの一覧表示 |

**機能:**
- 表示切替（シリーズ別 / 年別）
- アコーディオン形式の展開表示

**シリーズ別表示:**
```
▼ コミックマーケット
  ├─ C105 (2024-12-28〜30)
  ├─ C104 (2024-08-11〜12)
  └─ ...
▼ 博麗神社例大祭
  ├─ 例大祭21 (2024-05-19)
  └─ ...
```

**年別表示:**
```
[2025] [2024] [2023] [2022] ...

2024年
├─ 12月: C105
├─ 08月: C104
├─ 05月: 例大祭21
└─ ...
```

---

### イベント詳細（/events/:id）

| 項目 | 内容 |
|------|------|
| パス | `/events/:id` |
| 関連FR | FR-20〜FR-21 |
| 目的 | イベント回の詳細情報とリリース一覧 |

**構成:**
- イベント情報（名前、日付、シリーズ）
- 統計（リリース数、参加サークル数）
- タブ切替（リリース一覧 / 曲一覧）

---

## アーティスト・役割

> FR-34〜FR-37 対応

### アーティスト一覧（/artists）

| 項目 | 内容 |
|------|------|
| パス | `/artists` |
| 関連FR | FR-34〜FR-35 |
| 目的 | アーティストの一覧表示 |

**機能:**
- 頭文字索引フィルター（記号・数字 / 英字 / かな / 漢字）
- 役割フィルター（すべて / 編曲 / 作詞 / Vo）
- グリッド/リスト表示切替
- 役割バッジ表示

**役割バッジ:**

| 役割 | バッジ | 色 |
|------|--------|-----|
| 編曲者 | 編曲 | primary |
| 作詞者 | 作詞 | secondary |
| ボーカリスト | Vo | accent |

---

### アーティスト詳細（/artists/:id）

| 項目 | 内容 |
|------|------|
| パス | `/artists/:id` |
| 関連FR | FR-36 |
| 目的 | アーティストの詳細情報と参加作品 |

**構成:**
- アーティスト情報（名前、役割バッジ）
- 統計（トラック数、リリース数、所属サークル数）
- 別名義一覧
- 参加トラック一覧（役割別フィルター可能）

---

### 役割一覧（/roles）

| 項目 | 内容 |
|------|------|
| パス | `/roles` |
| 関連FR | FR-37 |
| 目的 | 役割からアーティストへの導線 |

**構成:**
- 役割カード（編曲者、作詞者、ボーカリスト、etc.）
- 各役割のアーティスト数表示
- クリックで役割別アーティスト一覧へ

---

### 役割別アーティスト（/roles/:code）

| 項目 | 内容 |
|------|------|
| パス | `/roles/:code` |
| 関連FR | FR-37 |
| 目的 | 特定役割のアーティスト一覧 |

**機能:**
- 頭文字索引フィルター
- グリッド/リスト表示切替
- トラック数の表示

---

## 統計

> FR-38〜FR-40 対応

### 統計ページ（/stats）

| 項目 | 内容 |
|------|------|
| パス | `/stats` |
| 関連FR | FR-38〜FR-40 |
| 目的 | データベース統計の可視化 |

**構成:**
- 概要ダッシュボード
  - 総曲数、総サークル数、総アーティスト数
  - 総イベント数、総リリース数
- ランキング
  - 人気原曲（アレンジ数順）
  - アクティブサークル（リリース数順）
  - アクティブアーティスト（参加トラック数順）
- 最近の更新
  - 新規登録リリース
  - 更新されたデータ

---

## ルートファイル構造

```
apps/web/src/routes/
├── _public.tsx                     # 公開レイアウト
└── _public/
    ├── index.tsx                   # トップページ
    ├── about.tsx                   # About
    ├── search.tsx                  # 検索
    ├── official-works.tsx          # 公式作品一覧
    ├── official-works_.$id.tsx     # 公式作品詳細
    ├── original-songs.tsx          # 公式曲一覧
    ├── original-songs_.$id.tsx     # 公式曲詳細
    ├── events.tsx                  # イベント一覧
    ├── events_.$id.tsx             # イベント詳細
    ├── circles.tsx                 # サークル一覧
    ├── circles_.$id.tsx            # サークル詳細
    ├── artists.tsx                 # アーティスト一覧
    ├── artists_.$id.tsx            # アーティスト詳細
    ├── roles.tsx                   # 役割一覧
    ├── roles_.$code.tsx            # 役割別アーティスト
    └── stats.tsx                   # 統計
```
