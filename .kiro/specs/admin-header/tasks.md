# Implementation Plan

## Tasks

- [x] 1. AdminHeaderコンポーネントの作成
- [x] 1.1 ヘッダーの基本構造とスタイリングを実装する
  - 管理者専用UIとして視覚的に区別される背景色（スレートグレーなど）を適用する
  - 左側に「管理者」のタイトルテキストを表示する
  - TailwindCSSのflexレイアウトで左右にコンテンツを配置する
  - 下部にセパレーター線を追加する
  - _Requirements: 1.1, 1.2, 1.3, 1.4_

- [x] 1.2 ナビゲーションリンクを実装する
  - ダッシュボードへのリンクをナビゲーション領域に追加する
  - TanStack RouterのLinkコンポーネントを使用してクライアントサイドナビゲーションを実現する
  - 現在のページに対応するリンクにアクティブ状態のスタイルを適用する
  - 将来の拡張に備えてリンク定義を配列で管理する
  - _Requirements: 4.1, 4.2, 4.3_

- [x] 1.3 ユーザー情報表示を実装する
  - propsで受け取ったユーザー情報をヘッダー右側に表示する
  - ユーザー名が存在する場合は名前を優先して表示する
  - ユーザー名がnullの場合はメールアドレスにフォールバックする
  - _Requirements: 2.1, 2.2, 2.3_

- [x] 1.4 ログアウト機能を実装する
  - ヘッダー右側にログアウトボタンを配置する
  - ボタンクリック時にauthClient.signOut()を呼び出す
  - ログアウト成功時に「ログアウトしました」のトースト通知を表示する
  - ログアウト成功後に/admin/loginページへリダイレクトする
  - _Requirements: 3.1, 3.2, 3.3, 3.4_

- [x] 2. 管理者レイアウトへの統合
- [x] 2.1 AdminLayoutにAdminHeaderを組み込む
  - _admin.tsxでAdminHeaderコンポーネントをインポートする
  - Outletの前にAdminHeaderを配置する
  - RouteContextから取得したユーザー情報をAdminHeaderにpropsで渡す
  - isForbiddenがtrueの場合はAdminHeaderを表示せずForbiddenPageのみを返す
  - _Requirements: 5.1, 5.2, 5.3_

- [x] 2.2 ダッシュボードページから重複UIを削除する
  - index.tsxから直接配置されているログアウトボタンを削除する
  - ヘッダー部分の重複表示（タイトル、ユーザー情報）を整理する
  - ページコンテンツのみを表示するシンプルな構造に変更する
  - _Requirements: 1.1, 3.1_

- [x] 3. 動作確認
- [x] 3.1 統合動作を確認する
  - 開発サーバーを起動してブラウザで動作を確認する
  - 管理者としてログインしてヘッダーが表示されることを確認する
  - ナビゲーションリンクが正しく動作することを確認する
  - ログアウト機能が正しく動作することを確認する
  - 型チェックとLintが通ることを確認する
  - _Requirements: 1.1, 2.1, 3.2, 3.3, 3.4, 4.1, 4.2, 5.1, 5.3_
